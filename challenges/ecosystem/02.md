# Integrating React Native with Linters

| <img src="https://raw.githubusercontent.com/flexbox/react-native-workshop/main/challenges/assets/eslint.png" width="100px" height="100px" alt="ESLint Logo" /> | <img src="https://raw.githubusercontent.com/flexbox/react-native-workshop/main/challenges/assets/prettier.png" width="100px" height="100px" alt="Prettier Logo" /> |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

## 📡 What you will learn

- Having **concistency across every files** in your codebase.
- Run a linter using a cli tool from the terminal.

## 👾 Before we start the exercise

- [ ] ❗ Commit your work if it's not already done.
- [ ] Push your code to GitHub.

## 👨‍🚀 Exercise 2

### [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) and [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint) extensions

- [ ] Install "ESlint" and "Prettier - Code formatter"

```console
code --install-extension dbaeumer.vscode-eslint esbenp.prettier-vscode
```

### Automatically format your code on each save with Prettier

- [ ] Go to **Code** (or **File**) > **Preferences** > **Settings**

1. Write `format` on the search input
2. ✅ Editor: Format on save
3. _Optional_ sometimes you have conflicts with others formatters. If it's not working just force the usage with `Prettier - code formatter`

![Prettier format on save preview on VS Code](https://raw.githubusercontent.com/flexbox/react-native-workshop/main/challenges/ecosystem/format-on-save.png)

### Setup ESLint rules on your project

We can spend hours configuring ESLint rules... or we can simply use rules used by the community and install the ones from William.

**🔭 Hint:** If you want to create a file from the terminal you can use `echo`:

```console
# ⚠️ For linux and macOS users only

echo '{ "extends": "react-native-wcandillon" }' > .eslintrc
```

- [ ] Read the instructions on [how to install `eslint-config-react-native-wcandillon`](https://github.com/wcandillon/eslint-config-react-native-wcandillon#readme)

At this point you should have a `.eslintrc` file at the root of your project with rules to have concistency in your codebase.

### Updating ESLint rules

We have no control on the api data we are pulling from SWAPI. Sometimes we want to update our rules to reflect differences.

In our case `cargo_capacity`, `cost_in_credits` are not using `camelCase` and we want to disable this rule.

- [ ] Update your `.eslintrc` file to add the following rules:

```json
{
  "extends": "react-native-wcandillon",
  "rules": {
    "camelcase": "off",
    "import/no-anonymous-default-export": [1, { "allowArray": true }]
  },
}
```

### Run ESLint from the terminal

- [ ] Update your scripts on `package.json` to check errors

```json
// package.json

  "scripts": {
    ...
    "lint": "eslint --ignore-path .gitignore --ext .js,.ts,.tsx ."
    ...
  }
```

Now you can run the `lint` script to teel if you have errors

```console
npm run lint
```

You don't need to manullay lint your files. We can run a script for that with:

```console
npm run lint -- --fix
# same as `yarn lint --fix`
```

- [ ] Run `--fix` to automatically fix your errors.
- [ ] Commit your work.
- [ ] Push your project to GitHub to have a backup with `git push`.

## 👽 Bonus

- [ ] Install [TanStack Query ESLint plugin](https://tanstack.com/query/v4/docs/react/eslint/eslint-plugin-query).
